[gd_scene load_steps=7 format=3 uid="uid://b4a7xe0vbw720"]

[ext_resource type="Theme" uid="uid://c1bv2wbiqbcyq" path="res://theme.tres" id="1_bthc5"]
[ext_resource type="Script" path="res://main.gd" id="2_0wg3r"]

[sub_resource type="InputEventKey" id="InputEventKey_u7dn1"]

[sub_resource type="Shortcut" id="Shortcut_a3vrp"]
events = [SubResource("InputEventKey_u7dn1")]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_ul88n"]
bg_color = Color(0.0980392, 0.0823529, 0.113725, 1)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_w7vdd"]
bg_color = Color(0.180392, 0.164706, 0.196078, 1)

[node name="main" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("1_bthc5")
script = ExtResource("2_0wg3r")

[node name="bg" type="ColorRect" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.0980392, 0.0823529, 0.113725, 1)

[node name="MC" type="MarginContainer" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 20
theme_override_constants/margin_top = 20
theme_override_constants/margin_right = 20
theme_override_constants/margin_bottom = 20

[node name="Vbox" type="VBoxContainer" parent="MC"]
layout_mode = 2
theme_override_constants/separation = 20
alignment = 1

[node name="Hbox" type="HBoxContainer" parent="MC/Vbox"]
layout_mode = 2
theme_override_constants/separation = 100

[node name="quotes" type="VBoxContainer" parent="MC/Vbox/Hbox"]
layout_mode = 2
size_flags_horizontal = 3
theme_override_constants/separation = 10

[node name="quotes_type_label" type="Label" parent="MC/Vbox/Hbox/quotes"]
layout_mode = 2
theme_override_font_sizes/font_size = 18
text = "Тип кавычек:"

[node name="quotes_type_option" type="OptionButton" parent="MC/Vbox/Hbox/quotes"]
layout_mode = 2
focus_mode = 0
theme_override_colors/font_color = Color(0.0980392, 0.0823529, 0.113725, 1)
theme_override_colors/font_pressed_color = Color(1, 1, 1, 1)
theme_override_colors/font_hover_color = Color(0.0980392, 0.0823529, 0.113725, 1)

[node name="language" type="VBoxContainer" parent="MC/Vbox/Hbox"]
layout_mode = 2
size_flags_horizontal = 3
theme_override_constants/separation = 10

[node name="language_label" type="Label" parent="MC/Vbox/Hbox/language"]
layout_mode = 2
theme_override_font_sizes/font_size = 18
text = "Язык программы:"

[node name="language_option" type="OptionButton" parent="MC/Vbox/Hbox/language"]
layout_mode = 2
focus_mode = 0
theme_override_colors/font_color = Color(0.0980392, 0.0823529, 0.113725, 1)
theme_override_colors/font_pressed_color = Color(1, 1, 1, 1)
theme_override_colors/font_hover_color = Color(0.0980392, 0.0823529, 0.113725, 1)

[node name="characters" type="VBoxContainer" parent="MC/Vbox"]
layout_mode = 2
theme_override_constants/separation = 10

[node name="chars_label" type="Label" parent="MC/Vbox/characters"]
layout_mode = 2
theme_override_font_sizes/font_size = 18
text = "Переменные персонажей (через запятую):"

[node name="chars_line" type="LineEdit" parent="MC/Vbox/characters"]
layout_mode = 2
size_flags_horizontal = 3
placeholder_text = "Eileen"
caret_blink = true

[node name="files" type="VBoxContainer" parent="MC/Vbox"]
layout_mode = 2
theme_override_constants/separation = 10

[node name="files_path_label" type="Label" parent="MC/Vbox/files"]
layout_mode = 2
theme_override_font_sizes/font_size = 18
text = "Путь к файлу (-ам):"

[node name="Hbox" type="HBoxContainer" parent="MC/Vbox/files"]
layout_mode = 2
theme_override_constants/separation = 20

[node name="files_path_line" type="LineEdit" parent="MC/Vbox/files/Hbox"]
layout_mode = 2
size_flags_horizontal = 3
placeholder_text = "C:\\...\\script.rpy"
caret_blink = true

[node name="pick_files_button" type="Button" parent="MC/Vbox/files/Hbox"]
custom_minimum_size = Vector2(82, 0)
layout_mode = 2
focus_mode = 0
theme_override_colors/font_color = Color(0.0980392, 0.0823529, 0.113725, 1)
theme_override_colors/font_hover_color = Color(0.0980392, 0.0823529, 0.113725, 1)
text = "Выбрать"

[node name="output" type="VBoxContainer" parent="MC/Vbox"]
layout_mode = 2
theme_override_constants/separation = 10

[node name="output_path_label" type="Label" parent="MC/Vbox/output"]
layout_mode = 2
theme_override_font_sizes/font_size = 18
text = "Путь для вывода:"

[node name="Hbox" type="HBoxContainer" parent="MC/Vbox/output"]
layout_mode = 2
theme_override_constants/separation = 20

[node name="output_path_line" type="LineEdit" parent="MC/Vbox/output/Hbox"]
layout_mode = 2
size_flags_horizontal = 3
placeholder_text = "C:\\...\\output"
caret_blink = true

[node name="pick_folder_button" type="Button" parent="MC/Vbox/output/Hbox"]
custom_minimum_size = Vector2(82, 0)
layout_mode = 2
focus_mode = 0
theme_override_colors/font_color = Color(0.0980392, 0.0823529, 0.113725, 1)
theme_override_colors/font_hover_color = Color(0.0980392, 0.0823529, 0.113725, 1)
text = "Выбрать"

[node name="MC" type="MarginContainer" parent="MC/Vbox"]
layout_mode = 2
theme_override_constants/margin_top = 20

[node name="execute_button" type="Button" parent="MC/Vbox/MC"]
layout_mode = 2
focus_mode = 0
theme_override_colors/font_color = Color(0.0980392, 0.0823529, 0.113725, 1)
theme_override_colors/font_hover_color = Color(0.0980392, 0.0823529, 0.113725, 1)
theme_override_colors/font_disabled_color = Color(0.443137, 0.443137, 0.443137, 1)
shortcut = SubResource("Shortcut_a3vrp")
text = "Выполнить"

[node name="additional" type="VBoxContainer" parent="MC/Vbox"]
layout_mode = 2

[node name="feedback_button" type="LinkButton" parent="MC/Vbox/additional"]
layout_mode = 2
size_flags_horizontal = 4
theme_override_colors/font_color = Color(0.694118, 0.607843, 0.796078, 1)
theme_override_colors/font_pressed_color = Color(0.694118, 0.607843, 0.796078, 1)
theme_override_colors/font_hover_color = Color(0.694118, 0.607843, 0.796078, 1)
text = "Обратная связь"
underline = 1
uri = "https://ovanfor.itch.io/"

[node name="help_button" type="LinkButton" parent="MC/Vbox/additional"]
layout_mode = 2
size_flags_horizontal = 4
theme_override_colors/font_color = Color(0.694118, 0.607843, 0.796078, 1)
theme_override_colors/font_pressed_color = Color(0.694118, 0.607843, 0.796078, 1)
theme_override_colors/font_hover_color = Color(0.694118, 0.607843, 0.796078, 1)
text = "Справка"
underline = 1

[node name="Files" type="FileDialog" parent="."]
title = "Open File(s)"
ok_button_text = "Открыть"
cancel_button_text = "Отмена"
file_mode = 1
access = 2
use_native_dialog = true

[node name="Folder" type="FileDialog" parent="."]
title = "Open a Directory"
size = Vector2i(327, 154)
ok_button_text = "Выбрать текущую папку"
dialog_hide_on_ok = true
cancel_button_text = "Отменить"
file_mode = 2
access = 2
use_native_dialog = true

[node name="help_window" type="PanelContainer" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_ul88n")

[node name="MC" type="MarginContainer" parent="help_window"]
layout_mode = 2
theme_override_constants/margin_left = 50
theme_override_constants/margin_top = 50
theme_override_constants/margin_right = 50
theme_override_constants/margin_bottom = 50

[node name="Vbox" type="VBoxContainer" parent="help_window/MC"]
layout_mode = 2
theme_override_constants/separation = 20

[node name="Title" type="Label" parent="help_window/MC/Vbox"]
layout_mode = 2
theme_override_font_sizes/font_size = 25
text = "Ren'Py Easy Quotes"
horizontal_alignment = 1

[node name="Version" type="Label" parent="help_window/MC/Vbox"]
layout_mode = 2
theme_override_font_sizes/font_size = 14
text = "Версия 4.0.0"
horizontal_alignment = 1

[node name="ScrollContainer" type="ScrollContainer" parent="help_window/MC/Vbox"]
layout_mode = 2
size_flags_vertical = 3

[node name="PC" type="PanelContainer" parent="help_window/MC/Vbox/ScrollContainer"]
layout_mode = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_w7vdd")

[node name="MC" type="MarginContainer" parent="help_window/MC/Vbox/ScrollContainer/PC"]
layout_mode = 2
theme_override_constants/margin_left = 10
theme_override_constants/margin_top = 10
theme_override_constants/margin_right = 10
theme_override_constants/margin_bottom = 10

[node name="Vbox" type="VBoxContainer" parent="help_window/MC/Vbox/ScrollContainer/PC/MC"]
layout_mode = 2

[node name="text" type="Label" parent="help_window/MC/Vbox/ScrollContainer/PC/MC/Vbox"]
custom_minimum_size = Vector2(580, 0)
layout_mode = 2
text = "Программа предназначена для расставления кавычек в фразах внутри скриптов  движка для визуальных новелл Ren'Py (*.rpy файлы).
Необходимо выбрать файл (или файлы), в которых нужно расставить кавычки, и указать папку, куда сохранятся отредактированные файлы, указать переменные персонажей, которые не должны выделяться (e \"Привет, Мир!\": в данном случае переменной является \"e\").
Не удаляйте старые файлы. Сначала убедитесь, что полученные из программы файлы запускаются в Ren'Py и не создают ошибок.

Если программа выделяет непредусмотренные операторы, то создайте файл statement.txt в одной директории с программой и вставьте туда список ниже и добавьте в него необходимые операторы. Просьба написать мне (через обратную связь), если обнаружатся недостающие операторы, чтобы я мог их добавить по умолчанию в последующих дополнениях."
autowrap_mode = 3

[node name="MC" type="MarginContainer" parent="help_window/MC/Vbox/ScrollContainer/PC/MC/Vbox"]
layout_mode = 2
theme_override_constants/margin_left = 0
theme_override_constants/margin_top = 0
theme_override_constants/margin_right = 10
theme_override_constants/margin_bottom = 10

[node name="Hbox" type="HBoxContainer" parent="help_window/MC/Vbox/ScrollContainer/PC/MC/Vbox/MC"]
layout_mode = 2

[node name="TextEdit" type="TextEdit" parent="help_window/MC/Vbox/ScrollContainer/PC/MC/Vbox/MC/Hbox"]
custom_minimum_size = Vector2(0, 120)
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
tooltip_text = "Скопируйте текст из этого поля"
focus_mode = 0
text = "['label', '$', 'show', 'call', 'jump', 'scene', 'stop', 'play', 'python:', 'menu:', 'init:', 'init', '\"', \"'\", '#', '\\\\', 'pause', 'zoom', 'align', 'xalign', 'yalign', 'xpos', 'ypos', 'linear', 'transform', 'return',  'if', 'elif', 'else:', 'for', 'while', 'import', 'from', 'def', 'screen', 'pass']"
editable = false
wrap_mode = 1

[node name="copy_button" type="Button" parent="help_window/MC/Vbox/ScrollContainer/PC/MC/Vbox/MC/Hbox"]
layout_mode = 2
size_flags_vertical = 4
focus_mode = 0
theme_override_colors/font_color = Color(0.0980392, 0.0823529, 0.113725, 1)
theme_override_colors/font_hover_color = Color(0.0980392, 0.0823529, 0.113725, 1)
theme_override_colors/font_disabled_color = Color(0.0705882, 0.0705882, 0.0705882, 1)
text = "Скопировать"

[node name="back_button" type="Button" parent="help_window/MC/Vbox"]
layout_mode = 2
size_flags_horizontal = 4
focus_mode = 0
theme_override_colors/font_color = Color(0.0980392, 0.0823529, 0.113725, 1)
theme_override_colors/font_hover_color = Color(0.0980392, 0.0823529, 0.113725, 1)
theme_override_colors/font_disabled_color = Color(0.443137, 0.443137, 0.443137, 1)
text = "Закрыть"

[connection signal="item_selected" from="MC/Vbox/Hbox/quotes/quotes_type_option" to="." method="_on_quotes_type_option_item_selected"]
[connection signal="item_selected" from="MC/Vbox/Hbox/language/language_option" to="." method="_on_language_option_item_selected"]
[connection signal="text_changed" from="MC/Vbox/characters/chars_line" to="." method="_on_chars_line_text_changed"]
[connection signal="text_changed" from="MC/Vbox/files/Hbox/files_path_line" to="." method="_on_files_path_line_text_changed"]
[connection signal="button_up" from="MC/Vbox/files/Hbox/pick_files_button" to="." method="_on_pick_files_button_button_up"]
[connection signal="text_changed" from="MC/Vbox/output/Hbox/output_path_line" to="." method="_on_output_path_line_text_changed"]
[connection signal="button_up" from="MC/Vbox/output/Hbox/pick_folder_button" to="." method="_on_pick_folder_button_button_up"]
[connection signal="button_up" from="MC/Vbox/MC/execute_button" to="." method="_on_execute_button_button_up"]
[connection signal="button_up" from="MC/Vbox/additional/help_button" to="." method="_on_help_button_button_up"]
[connection signal="files_selected" from="Files" to="." method="_on_files_files_selected"]
[connection signal="dir_selected" from="Folder" to="." method="_on_folder_dir_selected"]
[connection signal="button_up" from="help_window/MC/Vbox/ScrollContainer/PC/MC/Vbox/MC/Hbox/copy_button" to="." method="_on_copy_button_button_up"]
[connection signal="button_up" from="help_window/MC/Vbox/back_button" to="." method="_on_back_button_button_up"]
